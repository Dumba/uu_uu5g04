<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=2, minimum-scale=0.5">
    <title>UU5.Forms.ContextForm Example 01</title>

    <script src="https://cdn.plus4u.net/uu-uu5loaderg01/1.0.0/uu5loaderg01.min.js" crossorigin="anonymous"></script>
    <script>
      Uu5Loader.config({
        "imports": {
          "react": "https://cdn.plus4u.net/libs/react/16.14.0/react.min.js",
          "react-dom": "https://cdn.plus4u.net/libs/react-dom/16.14.0/react-dom.min.js",
          "create-react-class": "https://cdn.plus4u.net/libs/create-react-class/15.6.3/create-react-class.js",
          "prop-types": "https://cdn.plus4u.net/libs/prop-types/15.7.2/prop-types.js",
          //"bootstrap": "https://cdn.plus4u.net/libs/bootstrap/3.3.7/js/bootstrap.js",

          "uu_appg01_core": "https://cdn.plus4u.net/uu-appg01-core/3.0.0/uu_appg01_core.min.js",
          "uu_appg01": "https://cdn.plus4u.net/uu-appg01/3.0.0/uu_appg01-base.min.js",
          "uu_oidcg01": "https://cdn.plus4u.net/uu-oidcg01/3.0.0/uu_oidcg01.min.js",
          "uu5richtextg01": "https://cdn.plus4u.net/uu-uu5richtextg01/1.0.0/uu5richtextg01.js",
          "immutable": "https://cdn.plus4u.net/libs/immutable/3.8.2/immutable.min.js",
          "uu_contentkitg01": "https://cdn.plus4u.net/uu-contentkitg01/1.0.0/uu_contentkitg01.min.js",
          "uu_pg01": "https://cdn.plus4u.net/uu-pg01/2.0.0/uu_pg01.min.js",
          "uu_pg01-bricks": "https://cdn.plus4u.net/uu-pg01/2.0.0/uu_pg01-bricks.min.js",
          "uu5g04": "/uu5g04.js",
          "uu5g04-forms": "/uu5g04-forms.js", "uu5g04-bricks": "/uu5g04-bricks.js"
        }
      });
    </script>
  </head>
  <body>
    <div id="renderHere"></div>

    <script type="text/babel">
      import UU5 from "uu5g04";
      import "uu5g04-bricks";
      import "uu5g04-forms";
      import UuP from "uu_pg01";
      import "uu5richtextg01";
      import "immutable";
      import "uu_pg01-bricks";
      import "uu_contentkitg01";



      const Page = UU5.Common.VisualComponent.create({
        //@@viewOn:mixins
        //@@viewOff:mixins

        //@@viewOn:statics
        //@@viewOff:statics

        //@@viewOn:propTypes
        //@@viewOff:propTypes

        //@@viewOn:getDefaultProps
        //@@viewOff:getDefaultProps

        //@@viewOn:reactLifeCycle
        //@@viewOff:reactLifeCycle

        //@@viewOn:interface
        //@@viewOff:interface

        //@@viewOn:overriding
        //@@viewOff:overriding

        //@@viewOn:private
        _getHeader() {
          return (
            <UU5.Forms.ContextHeader
              content={<UU5.Bricks.Lsi lsi={{ en: "Set state of the concept" }} />}
              info={<UU5.Bricks.Lsi lsi={{ en: "To change the state, select one of the options." }} />}
            />
          )
        },

        _getForm() {
          return (
            <UU5.Forms.ContextForm
              onSave={opt => {
                // TODO saving
                console.log(opt.values);
                this._modal.close();
              }}
              onCancel={() => {
                this._modal.close();
              }}
            >
              <UU5.Forms.Select name="state" label={<UU5.Bricks.Lsi lsi={{ en: "Set state" }} />} value={"active"}>
                <UU5.Forms.Select.Option value="active" content={<UuP.Bricks.State type={"button"} stateType={"active"} stateName={"<uu5string/><UU5.Bricks.Lsi><UU5.Bricks.Lsi.Item language=\"en\">Active</UU5.Bricks.Lsi.Item></UU5.Bricks.Lsi>"} />}/>
                <UU5.Forms.Select.Option value="completed" content={<UuP.Bricks.State type={"button"} stateType={"active"} stateName={"<uu5string/><UU5.Bricks.Lsi><UU5.Bricks.Lsi.Item language=\"en\">Completed</UU5.Bricks.Lsi.Item></UU5.Bricks.Lsi>"} />}/>
                <UU5.Forms.Select.Option value="warning" content={<UuP.Bricks.State type={"button"} stateType={"alternative-active"} stateName={"<uu5string/><UU5.Bricks.Lsi><UU5.Bricks.Lsi.Item language=\"en\">Warning</UU5.Bricks.Lsi.Item></UU5.Bricks.Lsi>"} />}/>
                <UU5.Forms.Select.Option value="problem" content={<UuP.Bricks.State type={"button"} stateType={"problem"} stateName={"<uu5string/><UU5.Bricks.Lsi><UU5.Bricks.Lsi.Item language=\"en\">Problem</UU5.Bricks.Lsi.Item></UU5.Bricks.Lsi>"} />}/>
                <UU5.Forms.Select.Option value="passive" content={<UuP.Bricks.State type={"button"} stateType={"passive"} stateName={"<uu5string/><UU5.Bricks.Lsi><UU5.Bricks.Lsi.Item language=\"en\">Passive</UU5.Bricks.Lsi.Item></UU5.Bricks.Lsi>"} />}/>
              </UU5.Forms.Select>
            </UU5.Forms.ContextForm>
          )
        },

        _getControls() {
          return (
            <UU5.Forms.ContextControls
              buttonSubmitProps={{ content: <UU5.Bricks.Lsi lsi={{  en: "Set state" }} /> }}
              buttonCancelProps={{ content: <UU5.Bricks.Lsi lsi={{  en: "Cancel" }} /> }}
            />
          )
        },
        //@@viewOff:private

        //@@viewOn:render
        render() {
          return (
            <UU5.Bricks.Page modal={<UU5.Bricks.Modal />}>
              <UU5.Bricks.Container>
                <UU5.Forms.ContextModal ref_={modal => this._modal = modal} overflow={true} />

                <UU5.Bricks.Button
                  content="Modal"
                  onClick={() => this._modal.open({
                    header: this._getHeader(),
                    content: this._getForm(),
                    footer: this._getControls()
                  })}
                />

                <UU5.Forms.ContextSection header={this._getHeader()} level={2}>
                  {this._getForm()}
                  {this._getControls()}
                </UU5.Forms.ContextSection>
              </UU5.Bricks.Container>
            </UU5.Bricks.Page>
          );
        }
        //@@viewOff:render
      });

      UU5.Common.DOM.render(<Page />, document.getElementById('renderHere'));
    </script>
  </body>
</html>
